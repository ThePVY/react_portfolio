{"version":3,"sources":["hooks/useValidation.js","scripts/validates.js","components/common/CustomFields/CustomFields.js","components/common/CustomFields/CustomFields.module.css","components/common/SinglePane/SinglePane.jsx","components/common/SinglePane/SinglePane.module.css","components/Content/Login/Login.module.css","components/hoc/withProfileRedirection.js","components/Content/Login/Login.jsx"],"names":["useValidation","initialValue","useState","isValid","innerSetIsValid","setIsValid","useCallback","valid","validateLengthCreator","maxLength","value","length","undefined","validate500","validate100","validate50","validateNum","str","search","required","noErrorRequired","createField","component","name","type","placeholder","validate","text","className","s","container","FieldTemplate","notification","meta","notified","children","a","touched","error","useEffect","Textarea","props","input","Input","module","exports","SinglePane","fixedHeight","absolute","style","content","relative","withProfileRedirection","Component","connect","state","isAuthorized","auth","other","to","LoginForm","compose","thunkCreator","onSubmit","jsonObj","signIn","email","password","handleSubmit","styles","loginForm","disabled","reduxForm","form"],"mappings":"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","file":"static/js/8.ca6d93d4.chunk.js","sourcesContent":["import { useCallback, useState } from \"react\"\r\n\r\n\r\nexport const useValidation = initialValue => {\r\n    const [isValid, innerSetIsValid] = useState(initialValue)\r\n\r\n    const setIsValid = useCallback((valid = false) => innerSetIsValid(valid), [])\r\n\r\n    return [ { isValid, setIsValid }, () => innerSetIsValid(false) ]\r\n}\r\n","\r\n\r\nconst validateLengthCreator = maxLength => (value = '') => {\r\n    return value.length < maxLength ? undefined : `Maximum length is ${maxLength} symbols`;\r\n}\r\n\r\nexport const validate500 = validateLengthCreator(500)\r\n\r\nexport const validate100 = validateLengthCreator(100)\r\n\r\nexport const validate50 = validateLengthCreator(50)\r\n\r\nexport const validate10 = validateLengthCreator(10)\r\n\r\nexport const validateNum = (str = '') => {\r\n    return ~str.search(/[^0-9]/) ? 'Enter a number' : undefined\r\n}\r\n\r\nexport const required = value => value ? undefined : 'This Field is required'\r\n\r\n//Обязательно вернуть массив, обычная пустая строка не работает\r\nexport const noErrorRequired = value => value ? undefined : ['']\r\n\r\n","import { useEffect } from 'react'\r\nimport { Field } from 'redux-form'\r\nimport s from './CustomFields.module.css'\r\n\r\n\r\nexport const createField = (component, name, type, placeholder, validate, isValid, text = '') => {\r\n    return (\r\n        <div className={s.container}>\r\n            <Field \r\n                component={component} name={name} type={type} placeholder={placeholder}\r\n                validate={validate} isValid={isValid} \r\n            />\r\n            {text}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport const FieldTemplate = ({ meta, notified, children, isValid = a => a }) => {\r\n    \r\n    let notification\r\n    if(meta.touched && notified) {\r\n        notification = meta.error ? meta.error : ''\r\n    }\r\n    else {\r\n        notification = ''\r\n    }\r\n\r\n    const { valid } = meta\r\n    useEffect(() => {\r\n        isValid(valid)\r\n    },[valid, isValid])\r\n    \r\n    return (\r\n        <>\r\n            {children}\r\n            <span className={meta.valid ? '' : s.error}>{notification}</span>\r\n        </>\r\n    )\r\n}\r\n\r\nexport const Textarea = ({type, placeholder, ...props}) => {\r\n    return (\r\n        <FieldTemplate {...props} notified={true}>\r\n            <textarea {...props.input} placeholder={placeholder} type={type} />\r\n        </FieldTemplate>\r\n    )\r\n}\r\n\r\nexport const Input = ({type, placeholder, ...props}) => {\r\n    return (\r\n        <FieldTemplate {...props} notified={true} >\r\n            <input {...props.input} placeholder={placeholder} type={type} />\r\n        </FieldTemplate>\r\n    )\r\n}\r\n\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"CustomFields_error__1fyZd\"};","import s from './SinglePane.module.css'\r\n\r\nconst SinglePane = ({ children, fixedHeight = false, absolute = true }) => {\r\n    \r\n    const style = `${s.content} ${fixedHeight && s.fixedHeight} ${absolute ? s.absolute : s.relative} `\r\n    \r\n    return (\r\n        <div className={style}>\r\n            {children}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SinglePane\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"SinglePane_content__18Y_R\",\"absolute\":\"SinglePane_absolute__EQama\",\"relative\":\"SinglePane_relative__Z5qBe\",\"fixedHeight\":\"SinglePane_fixedHeight__3zShN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"Login_login__3j7rH\",\"loginForm\":\"Login_loginForm__e4ZvL\",\"error\":\"Login_error__1hPI-\"};","import { connect } from \"react-redux\"\r\nimport { Redirect } from \"react-router\"\r\n\r\n\r\nconst withProfileRedirection = Component => {\r\n\r\n    const withRedirection = ({ isAuthorized, ...other }) => {\r\n        return (\r\n            isAuthorized ? \r\n                <Redirect to='/profile' />\r\n                :\r\n                <Component {...other} />\r\n        )\r\n    }\r\n\r\n    const mapStateToProps = state => ({\r\n        isAuthorized: state.auth.isAuthorized\r\n    })\r\n\r\n    return connect(mapStateToProps, null)(withRedirection)\r\n}\r\n\r\nexport default withProfileRedirection","import { connect } from 'react-redux'\r\nimport { compose } from 'redux'\r\nimport { reduxForm } from 'redux-form'\r\nimport { useValidation } from '../../../hooks/useValidation'\r\nimport { thunkCreator } from '../../../redux/auth-reducer'\r\nimport { required } from '../../../scripts/validates'\r\nimport { Input, createField } from '../../common/CustomFields/CustomFields'\r\nimport SinglePane from '../../common/SinglePane/SinglePane'\r\nimport withProfileRedirection from '../../hoc/withProfileRedirection'\r\nimport styles from './Login.module.css'\r\n\r\nconst Login = props => {\r\n\r\n    const submit = jsonObj => {\r\n        props.signIn(jsonObj)\r\n    }\r\n\r\n    return (\r\n        <SinglePane absolute={false} >\r\n            <LoginForm onSubmit={submit} />\r\n        </SinglePane>\r\n    )\r\n}\r\n\r\nexport default compose(\r\n    connect(null, { ...thunkCreator }),\r\n    withProfileRedirection\r\n)(Login)\r\n\r\n\r\n\r\n/*---------------------------------------------------------------------------------------------------*/\r\n\r\nlet LoginForm = (props) => {\r\n\r\n    const [email,] = useValidation(false)\r\n    const [password,] = useValidation(false)\r\n\r\n    return (\r\n        <form onSubmit={props.handleSubmit} className={styles.loginForm}>\r\n            {createField(Input, 'email', 'text', 'Email', [required], email.setIsValid)}\r\n            {createField(Input, 'password', 'password', 'Password', [required], password.setIsValid)}\r\n            {createField(Input, 'rememberMe', 'checkbox', undefined, undefined, undefined, 'Remember me')}\r\n            {\r\n                props.error ? <div><span className={styles.error} >{props.error}</span></div> : ''\r\n            }\r\n            <div>\r\n                <button type='submit' disabled={!email.isValid || !password.isValid} >Submit</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nLoginForm = reduxForm({ form: 'login' })(LoginForm)"],"sourceRoot":""}