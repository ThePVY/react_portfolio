{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/common/SinglePane/SinglePane.jsx","components/common/SinglePane/SinglePane.module.css","components/common/Slider/Slider.module.css","components/Content/Images/Images.module.css","components/common/ViewPanel/ViewPanel.module.css","images/arrow-icon-right.png","images/arrow-icon-left.png","components/common/Slider/Slider.jsx","components/common/ViewPanel/ViewPanel.jsx","components/Content/Images/Images.jsx","hooks/useObservers.js"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","SinglePane","children","fixedHeight","absolute","style","s","content","relative","className","module","exports","Slider","images","onImageClick","exitObserver","useState","prev2xImage","prevImage","currImage","nextImage","next2xImage","imagesState","setImagesState","slideMode","setSlideMode","imgs","map","image","src","url","alt","id","useEffect","timeout","setTimeout","slide","direction","clearTimeout","handleToggle","runSlider","subscribe","console","log","unsubscribe","slider","visibleArea","imagesContainer","prev2xDiv","prevDiv","currDiv","onClick","nextDiv","next2xDiv","buttons","buttonRight","e","arrowRight","buttonLeft","arrowLeft","toggleSlide","Error","ViewPanel","multiple","onNext","onPrev","flexContainer","leafContainer","contentArea","getNextItemId","compose","connect","thunkCreator","props","showViewPanel","setShowViewPanel","setContent","init","observers","setObservers","observer","subscriber","filter","createObserver","useObservers","exitObservers","currImageId","setCurrImageId","nextId","prevId","getPrevItemId","shadowContainer","target","forEach","fn","currIndex"],"mappings":"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","file":"static/js/7.9ff2da90.chunk.js","sourcesContent":["import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import s from './SinglePane.module.css'\r\n\r\nconst SinglePane = ({ children, fixedHeight = false, absolute = true }) => {\r\n    \r\n    const style = `${s.content} ${fixedHeight && s.fixedHeight} ${absolute ? s.absolute : s.relative} `\r\n    \r\n    return (\r\n        <div className={style}>\r\n            {children}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SinglePane\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"SinglePane_content__18Y_R\",\"absolute\":\"SinglePane_absolute__EQama\",\"relative\":\"SinglePane_relative__Z5qBe\",\"fixedHeight\":\"SinglePane_fixedHeight__3zShN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"slider\":\"Slider_slider__2bPfW\",\"buttons\":\"Slider_buttons__1z8DM\",\"buttonLeft\":\"Slider_buttonLeft__24wDM\",\"buttonRight\":\"Slider_buttonRight__2nkdr\",\"toggleSlide\":\"Slider_toggleSlide__31bO0\",\"visibleArea\":\"Slider_visibleArea__1hE7S\",\"imagesContainer\":\"Slider_imagesContainer__10V7I\",\"prev2xDiv\":\"Slider_prev2xDiv__CmSAQ\",\"prevDiv\":\"Slider_prevDiv__2jgT-\",\"currDiv\":\"Slider_currDiv__Miov9\",\"nextDiv\":\"Slider_nextDiv__22QXZ\",\"next2xDiv\":\"Slider_next2xDiv__cSZKw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"images\":\"Images_images__3uiWT\",\"shadowContainer\":\"Images_shadowContainer__1V3vi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"flexContainer\":\"ViewPanel_flexContainer__1mN9B\",\"contentArea\":\"ViewPanel_contentArea__1xUf6\",\"notransform\":\"ViewPanel_notransform__3tHKW\",\"leafContainer\":\"ViewPanel_leafContainer__3YMur\"};","export default __webpack_public_path__ + \"static/media/arrow-icon-right.13769827.png\";","export default __webpack_public_path__ + \"static/media/arrow-icon-left.ca5fe514.png\";","import { useCallback, useEffect, useState } from 'react'\r\nimport s from './Slider.module.css'\r\nimport arrowRight from '../../../images/arrow-icon-right.png'\r\nimport arrowLeft from '../../../images/arrow-icon-left.png'\r\n\r\nconst Slider = ({ images, onImageClick, exitObserver = {} }) => {\r\n\r\n    const [imagesState, setImagesState] = useState({\r\n        prev2xImage: images.length - 2,\r\n        prevImage: images.length - 1,\r\n        currImage: 0,\r\n        nextImage: 1,\r\n        next2xImage: 2\r\n    })\r\n\r\n    const [slideMode, setSlideMode] = useState(true)\r\n\r\n    const imgs = images.map((image, i) => <img key={image.id} src={image.url} alt={i} />)\r\n\r\n    useEffect(() => {\r\n        const timeout = setTimeout(() => {\r\n            if(slideMode) {\r\n                setImagesState(slide({ direction: 'right', images, imagesState }))\r\n            }\r\n        }, 3000)\r\n        return () => {\r\n            clearTimeout(timeout)\r\n        }\r\n    }, [imagesState, slideMode, images])\r\n\r\n    const handleRight = (e) => {\r\n        setImagesState(slide({ direction: 'right', images, imagesState }))\r\n    }\r\n\r\n    const handleLeft = (e) => {\r\n        setImagesState(slide({ direction: 'left', images, imagesState }))\r\n    }\r\n\r\n    const handleToggle = () => setSlideMode(!slideMode)\r\n\r\n    const runSlider = () => setSlideMode(true)\r\n\r\n    useEffect(() => {\r\n        exitObserver.subscribe(runSlider)\r\n        console.log('slider subscribe use effect')\r\n        return () => {\r\n            exitObserver.unsubscribe(runSlider)\r\n            console.log('slider unsubscribe use effect')\r\n        }\r\n    }, [])\r\n\r\n    const handleImageClick = () => {\r\n        handleToggle()\r\n        onImageClick(images[imagesState.currImage])\r\n    }\r\n\r\n    return (\r\n        <div className={s.slider}>\r\n            <div className={`${s.visibleArea}`}>\r\n                <div className={`${s.imagesContainer}`}>\r\n                    <div key={images[imagesState.prev2xImage].id} className={`${s.prev2xDiv}`}>\r\n                        {imgs[imagesState.prev2xImage]}\r\n                    </div>\r\n\r\n                    <div key={images[imagesState.prevImage].id} className={`${s.prevDiv}`}>\r\n                        {imgs[imagesState.prevImage]}\r\n                    </div>\r\n\r\n                    <div key={images[imagesState.currImage].id} className={`${s.currDiv}`} onClick={handleImageClick} >\r\n                        {imgs[imagesState.currImage]}\r\n                    </div>\r\n\r\n                    <div key={images[imagesState.nextImage].id} className={`${s.nextDiv}`}>\r\n                        {imgs[imagesState.nextImage]}\r\n                    </div>\r\n\r\n                    <div key={images[imagesState.next2xImage].id} className={`${s.next2xDiv}`}>\r\n                        {imgs[imagesState.next2xImage]}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className={`${s.buttons} ${s.buttonRight}`} >\r\n                <button onClick={handleRight}><img src={arrowRight} alt=\"right\"/></button>\r\n            </div>\r\n            <div className={`${s.buttons} ${s.buttonLeft}`} >\r\n                <button onClick={handleLeft}><img src={arrowLeft} alt=\"left\"/></button>\r\n            </div>\r\n            <div className={`${s.buttons} ${s.toggleSlide}`} >\r\n                <button onClick={handleToggle}>{slideMode ? 'Stop Slider' : 'Run Slider'}</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Slider\r\n\r\n\r\n\r\nconst slide = ({direction = 'right', images, imagesState}) => {\r\n    switch (direction) {\r\n        case 'right':\r\n            return {\r\n                prev2xImage: imagesState.prevImage,\r\n                prevImage: imagesState.currImage,\r\n                currImage: imagesState.nextImage,\r\n                nextImage: imagesState.next2xImage,\r\n                next2xImage: imagesState.next2xImage === images.length - 1 ? 0 : imagesState.next2xImage + 1\r\n            }\r\n        case 'left':\r\n            return {\r\n                prev2xImage: imagesState.prev2xImage > 0 ? imagesState.prev2xImage - 1 : images.length - 1,\r\n                prevImage: imagesState.prev2xImage,\r\n                currImage: imagesState.prevImage,\r\n                nextImage: imagesState.currImage,\r\n                next2xImage: imagesState.nextImage\r\n            }\r\n        default:\r\n            throw new Error('Direction must be right or left')\r\n    }\r\n}","import { useState } from 'react'\r\nimport s from './ViewPanel.module.css'\r\n\r\nconst ViewPanel = ({ content, multiple = false, onNext, onPrev }) => {\r\n\r\n    return (\r\n        <div className={`centered-absolute ${s.flexContainer}`} >\r\n            {\r\n                multiple &&\r\n                <div className={s.leafContainer} onClick={onPrev}></div>\r\n            }\r\n            <div className={s.contentArea}>\r\n                <div className='centered fit-content'>\r\n                    {content}\r\n                </div>\r\n            </div>\r\n            {\r\n                multiple &&\r\n                <div className={s.leafContainer} onClick={onNext}></div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ViewPanel\r\n","import { connect } from 'react-redux'\r\nimport { compose } from 'redux'\r\nimport { thunkCreator } from '../../../redux/auth-reducer'\r\nimport SinglePane from '../../common/SinglePane/SinglePane'\r\nimport Slider from '../../common/Slider/Slider'\r\nimport s from './Images.module.css'\r\nimport '../../../App.css'\r\nimport ViewPanel from '../../common/ViewPanel/ViewPanel'\r\nimport { useState } from 'react'\r\nimport { useObservers } from '../../../hooks/useObservers'\r\n\r\n\r\nconst images = [\r\n    { id: 0, url: 'https://printfiles.ru/files/uploads/raspechatat/tsyfry-formata-a4/0.jpg', },\r\n    { id: 1, url: 'https://printfiles.ru/files/uploads/raspechatat/tsyfry-formata-a4/1-800x1131.jpg' },\r\n    { id: 2, url: 'https://printfiles.ru/files/uploads/raspechatat/tsyfry-formata-a4/2-800x1131.jpg' },\r\n    { id: 3, url: 'https://printfiles.ru/files/uploads/raspechatat/tsyfry-formata-a4/3-800x1131.jpg' },\r\n    { id: 4, url: 'https://printfiles.ru/files/uploads/raspechatat/tsyfry-formata-a4/4-800x1131.jpg' },\r\n    { id: 5, url: 'https://printfiles.ru/files/uploads/raspechatat/tsyfry-formata-a4/5.jpg' },\r\n    { id: 6, url: 'https://printfiles.ru/files/uploads/raspechatat/tsyfry-formata-a4/6.jpg' },\r\n    { id: 7, url: 'https://printfiles.ru/files/uploads/raspechatat/tsyfry-formata-a4/7.jpg' },\r\n]\r\n\r\n\r\nconst Images = props => {\r\n\r\n    const [showViewPanel, setShowViewPanel] = useState(false)\r\n    const [content, setContent] = useState('Content')\r\n    const [[exitObservers, exitObserver],] = useObservers([])\r\n    const [currImageId, setCurrImageId] = useState(0)\r\n\r\n    const onImageClick = (image) => {\r\n        setContent(<img src={image.url} alt=\"Image\" />)\r\n        setShowViewPanel(true)\r\n        setCurrImageId(image.id)\r\n    }\r\n\r\n    const nextImage = () => {\r\n        const nextId = getNextItemId(currImageId, images)\r\n        setCurrImageId(nextId)\r\n        setContent(<img src={images[nextId].url} alt=\"Image\" />)\r\n    }\r\n\r\n    const prevImage = () => {\r\n        const prevId = getPrevItemId(currImageId, images)\r\n        setCurrImageId(prevId)\r\n        setContent(<img src={images[prevId].url} alt=\"Image\" />)\r\n    }\r\n\r\n    const closePanel = (e) => {\r\n        if (e.target.className === `${s.shadowContainer} screen-shadowed`) {\r\n            setShowViewPanel(false)\r\n            exitObservers.forEach(fn => fn())\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <SinglePane fixedHeight={true} absolute={false}>\r\n                <div className={`centered ${s.images}`}>\r\n                    <Slider images={images} onImageClick={onImageClick} exitObserver={exitObserver} />\r\n                </div>\r\n                {\r\n                    showViewPanel &&\r\n                    <ViewPanel content={content} multiple={true} exitObservers={exitObservers}\r\n                        onNext={nextImage} onPrev={prevImage} />\r\n                }\r\n                <div>\r\n                    <div className={showViewPanel && `${s.shadowContainer} screen-shadowed`} onClick={closePanel} ></div>\r\n                </div>\r\n            </SinglePane>\r\n        </>\r\n\r\n\r\n    )\r\n}\r\n\r\nexport default compose(\r\n    connect(null, { ...thunkCreator })\r\n)(Images)\r\n\r\n/*---------------------------------------------------------------------------------------------------*/\r\n\r\nconst getNextItemId = (currIndex, arr) => {\r\n    return currIndex === arr.length - 1 ? 0 : currIndex + 1\r\n}\r\n\r\nconst getPrevItemId = (currIndex, arr) => {\r\n    return currIndex === 0 ? arr.length - 1 : currIndex - 1\r\n}","import { useState } from \"react\"\r\n\r\nexport const useObservers = (init = []) => {\r\n    const [observers, setObservers] = useState(init) //observers - массив наблюдателей, которые будут вызваны\r\n\r\n    //функция, которая создает объект-наблюдатель\r\n    //у этого объекта два метода \r\n    //- subscribe - добавить подписчика\r\n    //- unsubscribe - удалить подписчика (для предотвращения утечки памяти)\r\n    const createObserver = (observers, setObservers) => ({\r\n        subscribe: (subscriber = () => {}) => {\r\n            setObservers([...observers, subscriber])\r\n        },\r\n        unsubscribe: (subscriber) => {\r\n            setObservers(observers.filter((observer) => observer != subscriber))\r\n        }\r\n    })\r\n\r\n    //объект-наблюдатель\r\n    const observer = createObserver(observers, setObservers)\r\n\r\n    //привести в исходное состояние\r\n    const reset = () => setObservers(init)\r\n\r\n    //возвращает массив, в котором \r\n    //первый элемент - пара массив наблюдателей и объект для его заполнения (опустошения)\r\n    //второй элемент - функция для сброса состояния до исходного\r\n    return [ [ observers, observer ], reset ]\r\n}\r\n"],"sourceRoot":""}